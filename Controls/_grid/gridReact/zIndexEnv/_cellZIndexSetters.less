.ifExistsSelectorCallback(@selector, @trueCallback, @falseCallback) {
   & when not (@extraSelector = none) {
      @trueCallback();
   }
   & when (@extraSelector = none) {
      @falseCallback();
   }
}

.choosePostfix(@selector, @extraSelector, @zIndex) {
   .ifExistsSelectorCallback(@extraSelector, {
    @{selector}@{extraSelector} {
      z-index: @zIndex;
    }
  }, {
    @{selector} {
      z-index: @zIndex;
    }
  });
}

.setAnyCellIndex(@selector, @zIndex) {
   .controls-GridReact__cell@{selector} {
      z-index: @zIndex;
   }
}

.setDataCellIndex(@zIndex, @extraSelector: none) {
   .choosePostfix(~'.controls-Grid__itemsContainer .controls-GridReact__cell', @extraSelector, @zIndex);
}

.setStickiedDataCellIndex(@zIndex, @extraSelector: none) {
   .choosePostfix(~'.controls-Grid__itemsContainer .controls-GridReact__cell.controls-StickyBlock', @extraSelector, @zIndex);
}

.setHeaderCellIndex(@zIndex, @extraSelector: none) {
   .choosePostfix(~'.controls-GridReact__header-cell', @extraSelector, @zIndex);
}

.setStickiedHeaderCellIndex(@zIndex, @extraSelector: none) {
   .ifExistsSelectorCallback(@extraSelector, {
    .setHeaderCellIndex(@zIndex, ~'.controls-StickyBlock@{extraSelector}');
  }, {
    .setHeaderCellIndex(@zIndex, ~'.controls-StickyBlock');
  });
}

.setTopResultCellIndex(@zIndex, @extraSelector: none) {
   .choosePostfix(~'.controls-GridReact__results-cell_top', @extraSelector, @zIndex);
}

.setBottomResultCellIndex(@zIndex, @extraSelector: none) {
   .choosePostfix(~'.controls-GridReact__results-cell_bottom', @extraSelector, @zIndex);
}

.setStickiedTopResultCellIndex(@zIndex, @extraSelector: none) {
   .ifExistsSelectorCallback(@extraSelector, {
    .setTopResultCellIndex(@zIndex, ~'.controls-StickyBlock@{extraSelector}');
  }, {
    .setTopResultCellIndex(@zIndex, ~'.controls-StickyBlock');
  });
}

.setStickiedBottomResultCellIndex(@zIndex, @extraSelector: none) {
   .ifExistsSelectorCallback(@extraSelector, {
    .setBottomResultCellIndex(@zIndex, ~'.controls-StickyBlock@{extraSelector}');
  }, {
    .setBottomResultCellIndex(@zIndex, ~'.controls-StickyBlock');
  });
}

.setFooterCellIndex(@zIndex, @extraSelector: none) {
   .choosePostfix(~'.controls-GridReact__footer-cell', @extraSelector, @zIndex);
}

.setStickiedFooterCellIndex(@zIndex, @extraSelector: none) {
   .ifExistsSelectorCallback(@extraSelector, {
    .setFooterCellIndex(@zIndex, ~'.controls-StickyBlock@{extraSelector}');
  }, {
    .setFooterCellIndex(@zIndex, ~'.controls-StickyBlock');
  });
}
