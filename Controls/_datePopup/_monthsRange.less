.controls-PeriodDialog-MonthsRange {
   flex-shrink: 1;
   min-height: 1px;
   border-radius: 0 0 var(--border-radius_dialog) var(--border-radius_dialog);
   z-index: 1;
}

.controls-PeriodDialog-MonthsRange__header {
   text-align: center;
   height: var(--yearlist_heading_height_datePicker);
   line-height: var(--yearlist_heading_height_datePicker);
   color: var(--yearlist_heading_text-color_datePicker);
   font-size: var(--yearlist_heading_font-size_datePicker);
   font-weight: bold;
   border-top: calc(
         var(--yearlist_block-separator_thickness_datePicker) -
            var(--yearlist_item_border-thickness_datePicker)
      )
      solid var(--yearlist_block-separator_color_datePicker);
   border-bottom: calc(
         var(--yearlist_block-separator_thickness_datePicker) -
            var(--yearlist_item_border-thickness_datePicker)
      )
      solid var(--yearlist_block-separator_color_datePicker);
}

.controls-PeriodDialog-MonthsRange__body {
   display: flex;
}

.controls-PeriodDialog-MonthsRange__halfYears {
   flex-grow: 1;
   background-color: var(--yearlist_block-separator_color_datePicker);
   border-top: var(--yearlist_item_border-thickness_datePicker) solid
      var(--yearlist_block-separator_color_datePicker);
}

.controls-PeriodDialog-MonthsRange__halfYear {
   display: flex;
   position: relative;
}

.controls-PeriodDialog-MonthsRange__quarter {
   position: relative;
   flex-grow: 1;
   display: flex;
}

.controls-PeriodDialog-MonthsRange__halfYearsPanel-button,
.controls-PeriodDialog-MonthsRange__quarterButton {
   flex-grow: 1;
   display: flex;
   align-items: center;
   justify-content: center;
   width: calc(
      var(--yearnav_arrow_width_datePicker) -
         (
            var(--yearlist_block-separator_thickness_datePicker) -
               var(--yearlist_item_border-thickness_datePicker)
         )
   );
   border-bottom: var(--yearlist_item_border-thickness_datePicker) solid
      var(--yearlist_block-separator_color_datePicker);
}

.controls-PeriodDialog-MonthsRange__quarterButton {
   height: calc(
      var(--yearlist_month_height_datePicker) -
         var(--yearlist_item_border-thickness_datePicker) * 2
   );
   width: var(--yearlist_quarters_width_datePicker);
   color: var(--yearlist_quarters_text-color_datePicker);
   font-size: var(--font-size_l);
   background-color: var(--background-color_datePicker);
   border-right: var(--yearlist_block-separator_thickness_datePicker) solid
      var(--yearlist_block-separator_color_datePicker);
}

.controls-PeriodDialog-MonthsRange__quarter-hovered {
   .controls-PeriodDialog-MonthsRange__quarterButton {
      z-index: 3;
      border-bottom-color: transparent;
      background-color: transparent;
      border-right-color: transparent;

      /* В IE на сайте слой обводки controls-PeriodDialog-MonthsRange__quarter-hovered (before) перекрывает кнопку, несмотря на одинаковые
      -index-ы. position: relative у кнопки решает проблему */
      position: relative;
   }

   &::before {
      content: '';
      position: absolute;
      bottom: 0;
      right: 0;
      z-index: 3;
      top: calc(-1 * var(--yearlist_item_border-thickness_datePicker));
      left: calc(-1 * var(--yearlist_item_border-thickness_datePicker));
      border: solid var(--yearlist_item_border-thickness_datePicker)
         var(--yearlist_quarters_hover_border-color_datePicker);
   }
}

.controls-PeriodDialog-MonthsRange__halfYearsPanel-button {
   background-color: var(--background-color_datePicker);
   width: var(--yearlist_quarters_width_datePicker);
   color: var(--yearlist_quarters_text-color_datePicker);
   font-size: var(--yearlist_halfyears_font-size_datePicker);
   border-left: calc(
         var(--yearlist_block-separator_thickness_datePicker) -
            var(--yearlist_item_border-thickness_datePicker)
      )
      solid var(--yearlist_block-separator_color_datePicker);
}

.controls-PeriodDialog-MonthsRange__item-unselected,
.controls-PeriodDialog-MonthsRange__item-selected {
   .box-sizing(border-box);
   .flex-shrink(0);
   z-index: 2;
   display: flex;
   flex-direction: column;
   padding: var(--yearlist_month_padding_datePicker);
   width: calc(
      var(--yearlist_month_width_datePicker) - 2 *
         var(--yearlist_item_border-thickness_datePicker)
   );
   margin-bottom: var(--yearlist_item_border-thickness_datePicker);
   margin-right: var(--yearlist_item_border-thickness_datePicker);
   height: calc(
      var(--yearlist_month_height_datePicker) - 2 *
         var(--yearlist_item_border-thickness_datePicker)
   );
}

.controls-PeriodDialog-MonthsRange__item-unselected {
   background-color: var(--background-color_datePicker);
}

.controls-PeriodDialog-MonthsRange__hovered {
   outline: var(--yearlist_item_hover_border-color_datePicker) solid
      var(--yearlist_item_border-thickness_datePicker);
   background-color: var(--yearlist_item_hover_background-color_datePicker);
}

.controls-PeriodDialog-MonthsRange__month_title {
   text-align: center;
   font-weight: normal;
   flex-shrink: 0;
   color: var(--yearlist_month_heading_text-color_datePicker);
   font-size: var(--yearlist_month_heading_font-size_datePicker);
   height: var(--yearlist_monthview_heading_height_datePicker);
}

.controls-PeriodDialog-MonthsRange__halfYear-hovered,
.controls-PeriodDialog-MonthsRange__quarter-hovered {
   background-color: var(--yearlist_item_hover_background-color_datePicker);

   .controls-PeriodDialog-MonthsRange__item-selected,
   .controls-PeriodDialog-MonthsRange__item-unselected {
      background-color: transparent;
   }
}

.controls-PeriodDialog-MonthsRange__halfYear-hovered {
   .controls-PeriodDialog-MonthsRange__halfYearsPanel-button {
      border-left-color: transparent;
      background-color: transparent;
      z-index: 3;
      border-bottom-color: transparent;

      /* В IE на сайте слой обводки controls-PeriodDialog-MonthsRange__halfYear-hovered (before) перекрывает кнопку, несмотря на одинаковые
     -index-ы. position: relative у кнопки решает проблему */
      position: relative;
   }

   &::before {
      content: '';
      position: absolute;
      bottom: 0;
      z-index: 3;
      top: calc(-1 * var(--yearlist_item_border-thickness_datePicker));
      left: calc(
         var(--yearlist_quarters_width_datePicker) +
            var(--yearlist_block-separator_thickness_datePicker)
      );
      right: calc(-1 * var(--yearlist_item_border-thickness_datePicker));
      border: solid var(--yearlist_item_border-thickness_datePicker)
         var(--yearlist_quarters_hover_border-color_datePicker);
   }
}

.controls-PeriodDialog-MonthsRange__monthWrapper {
   display: flex;
   border: 1px dotted transparent;
   flex-grow: 1;
   align-items: flex-start;
   justify-content: center;
   padding-bottom: var(--yearlist_monthview_bottom-offset_datePicker);
   font-size: var(--yearlist_monthview_item_font-size_datePicker);
}

.controls-PeriodDialog-MonthsRange__month {
   box-sizing: border-box;
   font-weight: normal;
}

.controls-MonthView__textColor-currentMonthDay-workday-readOnly-dayNotAvailable_style-monthRangeItem,
.controls-MonthView__textColor-currentMonthDay-weekend-readOnly-dayNotAvailable_style-monthRangeItem,
.controls-MonthView__textColor-currentMonthDay-today-readOnly-dayNotAvailable_style-monthRangeItem {
   color: var(--readonly_color);
}

.controls-MonthView__textColor-currentMonthDay-workday-readOnly_style-monthRangeItem,
.controls-MonthView__textColor-currentMonthDay-workday_style-monthRangeItem {
   color: var(--monthlist_monthview_item_text-color_datePicker);
}

.controls-MonthView__textColor-currentMonthDay-today-readOnly_style-monthRangeItem,
.controls-MonthView__textColor-currentMonthDay-today_style-monthRangeItem {
   color: var(--monthview_today_text-color_monthSlider);
}

.controls-MonthView__textColor-currentMonthDay-weekend-readOnly_style-monthRangeItem,
.controls-MonthView__textColor-currentMonthDay-weekend_style-monthRangeItem {
   color: var(--monthlist_monthview_weekend_text-color_datePicker);
}

.controls-MonthViewVDOM__item_style-monthRangeItem {
   width: var(--yearlist_monthview_item_width_datePicker);
   height: var(--yearlist_monthview_item_height_datePicker);
}

.controls-MonthViewVDOM__item-today-background_style-monthRangeItem {
   top: 0;
   bottom: 0;
   left: 0;
   right: 0;
   border-radius: var(--yearlist_monthview_today_border-radius_datePicker);
   background-color: var(--monthview_today_background-color_monthSlider);
   border: 0 solid transparent;
}

.controls-MonthView__backgroundColor-currentMonthDay-selected-startend_style-monthRangeItem,
.controls-MonthView__backgroundColor-currentMonthDay-selected-end_style-monthRangeItem,
.controls-MonthView__backgroundColor-currentMonthDay-selected-start_style-monthRangeItem,
.controls-MonthView__backgroundColor-currentMonthDay-selected_style-monthRangeItem {
   background: var(--rangeSelection_item_background-color_datePicker);
}

.controls-MonthView__item-border-start-end_style-monthRangeItem {
   outline: var(--yearlist_monthview_selection-border_single_color_datePicker)
      solid var(--yearlist_monthview_selection-border_thickness_datePicker);
   outline-offset: calc(
      var(--yearlist_monthview_selection-border_thickness_datePicker) -
         var(--rangeSelection_border_single_thickness_datePicker)
   );
   z-index: 1; //При масштабе 150% соседние блоки наезжают на outline
}

.controls-MonthView__item-border-start_style-monthRangeItem::before,
.controls-MonthView__item-border-end_style-monthRangeItem::after {
   content: '';
   position: absolute;
   height: 100%;
   top: 0;
   width: var(--yearlist_monthview_selection-border_thickness_datePicker);
   background-color: var(--rangeSelection_border_color_datePicker);
}

.controls-MonthView__item-border-start_style-monthRangeItem::before {
   left: 0;
   z-index: 1;
}

.controls-MonthView__item-border-end_style-monthRangeItem::after {
   right: -1px;
}

.controls-PeriodDialog-MonthsRange__halfYear-hovered,
.controls-PeriodDialog-MonthsRange__quarter-hovered,
.controls-PeriodDialog-MonthsRange__hovered {
   .controls-MonthView__backgroundColor-currentMonthDay-selected-startend_style-monthRangeItem,
   .controls-MonthView__backgroundColor-currentMonthDay-selected-end_style-monthRangeItem,
   .controls-MonthView__backgroundColor-currentMonthDay-selected-start_style-monthRangeItem,
   .controls-MonthView__backgroundColor-currentMonthDay-selected_style-monthRangeItem {
      background-color: transparent;
   }
}

.controls-PeriodDialog-MonthsRange__monthWrapper_clickable {
   cursor: pointer;
}

.controls-PeriodDialog-MonthsRange__monthWrapper_clickable:active {
   border-color: var(--yearlist_item_hover_border-color_datePicker);
}

.ws-is-hover {
   .controls-PeriodDialog-MonthsRange__month {
      .controls-MonthView__backgroundColor-currentMonthDay-unselected:hover {
         background: transparent;
      }
   }

   .controls-PeriodDialog-MonthsRange__monthWrapper_clickable:hover {
      border-color: var(--yearlist_item_hover_border-color_datePicker);
   }
}

.controls-PeriodDialog-MonthsRange__month_icon {
   display: inline-block;
   padding-right: var(--offset_2xs);
}

// В safari есть проблема с корректным отображением ячеек, а именно длина получается дробная, из-за чего рамка немного обрезается
// проблема повторяется на на всех устройствах. Причем эффект сильнее заметен при зуме
// https://online.sbis.ru/opendoc.html?guid=e554382f-a1b5-47e7-971e-c8a358220802
.ws-is-desktop-safari,
.ws-is-mobile-safari {
   .controls-PeriodDialog-MonthsRange__halfYearsPanel-button {
      width: calc(
         var(--yearlist_quarters_width_datePicker) + var(--border-thickness)
      );
   }
}
